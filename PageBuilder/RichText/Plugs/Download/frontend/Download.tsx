import { PortableTextComponent } from "@portabletext/react";
import RichText from "PageBuilder/RichText/frontend/RichText";

import React from "react";
import { downloadQueryResult } from "../download.query";

const Download: PortableTextComponent<downloadQueryResult> = (props) => {
  const { value } = props;

  return (
    <a href={`${props.value.url}?dl=`} className=" flex gap-2 flex-col">
      {value.extension === "vcf" ? <VCardIcon /> : <Icon />}

      <div>
        <RichText content={props.value.description} />
      </div>
    </a>
  );
};

export default Download;

const Icon = () => {
  return (
    <svg
      width="90"
      height="90"
      viewBox="0 0 90 90"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <circle cx="45" cy="45" r="45" fill="#BF664A" />

      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M49.2982 29.2492H52.9606H52.963C53.2102 29.2492 53.4334 29.3924 53.527 29.6119C53.623 29.8313 53.5702 30.0831 53.395 30.2518L44.8486 38.4779C44.6182 38.6973 44.2126 38.6973 43.9846 38.4779L35.4382 30.2518C35.263 30.0831 35.2126 29.8313 35.3062 29.6119C35.3998 29.3924 35.623 29.2492 35.8702 29.2492H39.5326V16.9112C39.5326 16.5877 39.8062 16.3244 40.1422 16.3244H48.6886C49.0246 16.3244 49.2982 16.5854 49.2982 16.9112V29.2492ZM73.7088 48.2351C73.7592 48.3553 73.7808 48.4823 73.788 48.6094V48.6071C73.789 48.6151 73.7914 48.6227 73.7938 48.6302C73.7969 48.64 73.8 48.6497 73.8 48.6602V57.9004C73.8 61.0837 71.1072 63.6756 67.8 63.6756H22.2C18.8928 63.6756 16.2 61.0837 16.2 57.9004V48.6602C16.2 48.651 16.203 48.6423 16.206 48.6336C16.209 48.625 16.212 48.6163 16.212 48.6071C16.2168 48.48 16.2384 48.3553 16.2888 48.2351C16.2912 48.2305 16.2924 48.2253 16.2936 48.2201C16.2948 48.2149 16.296 48.2097 16.2984 48.2051C16.3416 48.1058 16.4016 48.0088 16.4784 47.921L28.4784 34.0629C28.7064 33.7996 29.0448 33.6471 29.4 33.6471H31.8C32.4624 33.6471 33 34.1646 33 34.8021C33 35.4397 32.4624 35.9572 31.8 35.9572H29.9616L19.9632 47.5029H70.0344L60.0359 35.9525H56.9976C56.3352 35.9525 55.7976 35.4351 55.7976 34.7975C55.7976 34.1599 56.3352 33.6425 56.9976 33.6425H60.5976C60.9528 33.6425 61.2912 33.795 61.5191 34.0583L73.5192 47.9187C73.5936 48.0065 73.6536 48.1035 73.6992 48.2051C73.704 48.2167 73.704 48.2259 73.7088 48.2351ZM54.6 56.7477H64.2C64.8624 56.7477 65.4 56.2303 65.4 55.5927C65.4 54.9551 64.8624 54.4377 64.2 54.4377H54.6C53.9376 54.4377 53.4 54.9551 53.4 55.5927C53.4 56.2303 53.9376 56.7477 54.6 56.7477Z"
        fill="white"
      />
    </svg>
  );
};

const VCardIcon = () => {
  return (
    <svg
      width="90"
      height="90"
      viewBox="0 0 90 90"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <circle cx="45" cy="45" r="45" fill="#BF664A" />
      <path
        d="M45 44C47.7848 44 50.4555 42.8938 52.4246 40.9246C54.3938 38.9555 55.5 36.2848 55.5 33.5C55.5 30.7152 54.3938 28.0445 52.4246 26.0754C50.4555 24.1062 47.7848 23 45 23C42.2152 23 39.5445 24.1062 37.5754 26.0754C35.6062 28.0445 34.5 30.7152 34.5 33.5C34.5 36.2848 35.6062 38.9555 37.5754 40.9246C39.5445 42.8938 42.2152 44 45 44ZM52 33.5C52 35.3565 51.2625 37.137 49.9497 38.4497C48.637 39.7625 46.8565 40.5 45 40.5C43.1435 40.5 41.363 39.7625 40.0503 38.4497C38.7375 37.137 38 35.3565 38 33.5C38 31.6435 38.7375 29.863 40.0503 28.5503C41.363 27.2375 43.1435 26.5 45 26.5C46.8565 26.5 48.637 27.2375 49.9497 28.5503C51.2625 29.863 52 31.6435 52 33.5ZM66 61.5C66 65 62.5 65 62.5 65H27.5C27.5 65 24 65 24 61.5C24 58 27.5 47.5 45 47.5C62.5 47.5 66 58 66 61.5ZM62.5 61.486C62.4965 60.625 61.961 58.035 59.588 55.662C57.306 53.38 53.0115 51 45 51C36.985 51 32.694 53.38 30.412 55.662C28.039 58.035 27.507 60.625 27.5 61.486H62.5Z"
        fill="white"
        stroke="white"
        strokeWidth="2"
      />
    </svg>
  );
};
